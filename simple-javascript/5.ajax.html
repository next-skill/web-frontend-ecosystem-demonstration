<!DOCTYPE html>
<html>
  <head>
    <title>demo</title>
  </head>
  <body>
    <div id="app">
      <button onclick="load()">load</button>
      <table>
        <thead>
          <tr>
            <th>ID</th>
            <th>Name</th>
          </tr>
        </thead>
        <tbody id="users-tbody"></tbody>
      </table>
    </div>
    <script>
      async function load() {
        const response = await fetch('./data.json')
        const body = await response.json()

        // 本来は HTML エスケープが必要
        const innerHTML = body.users
          .map(
            (user) =>
              `<tr>
                <td>${escapeHtml(user.id)}</td>
                <td>${escapeHtml(user.name)}</td>
              </tr>`
          )
          .reduce((l, r) => l + r)

        const usersTbody = document.getElementById('users-tbody')
        usersTbody.innerHTML = innerHTML
      }

      function escapeHtml(str) {
        if (typeof str !== 'string') {
          str = String(str)
        }
        return str
          .replace(/&/g, '&amp;')
          .replace(/</g, '&lt;')
          .replace(/\'/g, '&apos;')
          .replace(/\"/g, '&quot;')
      }
    </script>
  </body>
</html>
